library(lubridate)
dringed$Year=format(as.Date(dringed$RingingDate, format="%d/%m/%Y"),"%Y")
years_ringed=as.vector(dringed$Year)
ringed_birds_per_year=years_ringed # initializing
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=unique(dringed$RingNo[dringed$Year==years_ringed[k]])
}
plot(years_ringed,ringed_birds_per_year)
#echo=FALSE
dringed<-read.csv("Gyrs_ringed.csv")
library(lubridate)
dringed$Year=format(as.Date(dringed$RingingDate, format="%d/%m/%Y"),"%Y")
years_ringed=as.vector(dringed$Year)
ringed_birds_per_year=years_ringed # initializing
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=unique(dringed$RingNo[dringed$Year==years_ringed[k]])
}
plot(years_ringed,ringed_birds_per_year)
years_ringed
years_ringed=as.vector(as.numeric(dringed$Year))
years_ringed
dringed$Year=format(as.Date(dringed$RingingDate, format="%d/%m/%Y"),"%Y")
years_ringed=as.vector(as.numeric(dringed$Year))
ringed_birds_per_year=years_ringed # initializing
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=unique(dringed$RingNo[dringed$Year==years_ringed[k]])
}
plot(years_ringed,ringed_birds_per_year)
years_ringed
years_ringed=unique(as.numeric(na.omit(dringed$Year)))
years_ringed
dringed$Year=format(as.Date(dringed$RingingDate, format="%d/%m/%Y"),"%Y")
years_ringed=unique(as.numeric(na.omit(dringed$Year)))
ringed_birds_per_year=years_ringed # initializing
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=unique(dringed$RingNo[dringed$Year==years_ringed[k]])
}
plot(years_ringed,ringed_birds_per_year)
years_ringed
ringed_birds_per_year
length(years_ringed)
k=1
years_ringed=sort(unique(as.numeric(na.omit(dringed$Year))))
years_ringed=sort(unique(as.numeric(na.omit(dringed$Year))))
ringed_birds_per_year=years_ringed # initializing
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=unique(dringed$RingNo[dringed$Year==years_ringed[k]])
}
plot(years_ringed,ringed_birds_per_year)
ringed_birds_per_year
k=1
dringed$RingNo[dringed$Year==years_ringed[k]]
dringed$RingNo
dringed$Year
ringed_birds_per_year[k]=unique(dringed$RingNo[as.numeric(dringed$Year)==years_ringed[k]])
years_ringed[k]
as.numeric(dringed$Year)
as.numeric(dringed$Year)==years_ringed[k]
[as.numeric(dringed$Year)==years_ringed[k]]
as.numeric(dringed$Year)==years_ringed[k]
dringed$Year=format(as.Date(dringed$RingingDate, format="%d/%m/%Y"),"%Y")
years_ringed=sort(unique(as.numeric(na.omit(dringed$Year))))
ringed_birds_per_year=years_ringed # initializing
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=unique(dringed$RingNo[as.numeric(dringed$Year)==years_ringed[k]])
}
plot(years_ringed,ringed_birds_per_year)
ringed_birds_per_year
dringed$RingNo[as.numeric(dringed$Year)==years_ringed[k]]
k=1
dringed$RingNo[as.numeric(dringed$Year)==years_ringed[k]]
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=unique(dringed$RingNo[dringed$Year==as.character(years_ringed[k])])
}
ringed_birds_per_year
as.character(years_ringed[k])
dringed$Year
k=1
dringed$Year==as.character(years_ringed[k])
dringed$RingNo[dringed$Year==as.character(years_ringed[k])]
dringed$Year==as.character(years_ringed[k])
dringed$RingNo[dringed$Year==as.character(years_ringed[k]),]
dringed$RingNo[,dringed$Year==as.character(years_ringed[k])]
dringed$RingNo[dringed$Year==as.character(years_ringed[k])]
dringed$Year
years_ringed_bis=as.character(years_ringed)
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=unique(dringed$RingNo[dringed$Year==years_ringed_bis[k]])
}
warnings()
ringed_birds_per_year[k]
dringed$RingNo[dringed$Year==years_ringed_bis[k]]
dringed$RingNo
dringed$RingNo[dringed$Year==2013
]
k=2
dringed$RingNo[dringed$Year==years_ringed[k]]
unique(dringed$RingNo[dringed$Year==years_ringed[k]])
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=length(unique(dringed$RingNo[dringed$Year==years_ringed[k]]))
}
plot(years_ringed,ringed_birds_per_year)
bird_recovered_list=unique(drecov$RingNo)
drecov<-read.csv("Gyrs_recovered.csv")
bird_recovered_list=unique(drecov$RingNo)
bird_recovered_list
bird_recovered_list=unique(drecov$RingNo)
ntimes_recovered=rep(0,length(bird_recovered_list))
for (k in 1:length(bird_recovered_list)){
ntimes_recovered[k]=sum(drecov$RingNo==bird_recovered_list[k])
}
plot(bird_recovered_list,ntimes_recoveredtype="h",lwd=5,col="black")
bird_recovered_list=unique(drecov$RingNo)
ntimes_recovered=rep(0,length(bird_recovered_list))
for (k in 1:length(bird_recovered_list)){
ntimes_recovered[k]=sum(drecov$RingNo==bird_recovered_list[k])
}
plot(bird_recovered_list,ntimes_recoveredtype="h",lwd=5,col="black")
bird_recovered_list
plot(bird_recovered_list,ntimes_recoveredtype="h",lwd=1,col="black")
plot(bird_recovered_list,ntimes_recovered,type="h",lwd=1,col="black")
ntimes_recovered
plot(bird_recovered_list,ntimes_recovered,type="h",lwd=1,col="black")
plot(bird_recovered_list,ntimes_recovered,type="o",lwd=1,col="black")
hist(ntimes_recovered)
table(ntimes_recovered)
table(ntimes_recovered)
*Question: when did the change from recovery of dead birds to resighting of live birds occur?*
----
**Question: when did the change from recovery of dead birds to resighting of live birds occur?**
---
title: "Preliminary analysis of the Icelandic Gyrfalcon CMR dataset - v2"
author: "Frederic Barraquand, Olafur Nielsen"
date: "February 22, 201_"
output:
word_document: null
pdf_document: default
number_sections: yes
header-includes:
- \usepackage{setspace}
- \doublespacing
- \usepackage{lineno}
- \linenumbers
csl: ecology.csl
bibliography: /home/frederic/Dropbox/database/total.bib
---
Here I attempt to explore the CMR dataset, before we go to inferential models to estimate survival and perhaps link this to an integrated pop. model.
## Basic statistics
How many birds have been ringed?
```{r}
dringed<-read.csv("data/Gyrs_ringed.csv")
head(dringed) # What's in the data table
length(unique(dringed$RingNo)) #How many unique bird IDs
```
setwd("~/Documents/Gyrfalcon_CMR")
---
title: "Preliminary analysis of the Icelandic Gyrfalcon CMR dataset - v2"
author: "Frederic Barraquand, Olafur Nielsen"
date: "February 22, 201_"
output:
word_document: null
pdf_document: default
number_sections: yes
header-includes:
- \usepackage{setspace}
- \doublespacing
- \usepackage{lineno}
- \linenumbers
csl: ecology.csl
bibliography: /home/frederic/Dropbox/database/total.bib
---
Here I attempt to explore the CMR dataset, before we go to inferential models to estimate survival and perhaps link this to an integrated pop. model.
## Basic statistics
How many birds have been ringed?
```{r}
dringed<-read.csv("data/Gyrs_ringed.csv")
head(dringed) # What's in the data table
length(unique(dringed$RingNo)) #How many unique bird IDs
```
dringed<-read.csv("data/Gyrs_ringed.csv")
head(dringed) # What's in the data table
length(unique(dringed$RingNo)) #How many unique bird IDs
dringed
head(dringed)
length(unique(dringed$Ring_No)) #How many unique bird IDs
drecov<-read.csv("data/Gyrs_recovered.csv")
length(unique(drecov$RingNo)) #How many unique bird IDs in Gyrs_recovered.csv
drecov<-read.csv("data/Gyrs_recovered.csv")
head(drecov)
length(unique(drecov$Ring_No)) #How many unique bird IDs in Gyrs_recovered.csv
head(dringed)
dringed$Year=format(as.Date(dringed$Ringed_date, format="%d/%m/%Y"),"%Y")
years_ringed=sort(unique(as.numeric(na.omit(dringed$Year))))
ringed_birds_per_year=years_ringed # initializing
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=length(unique(dringed$RingNo[dringed$Year==years_ringed[k]]))
}
plot(years_ringed,ringed_birds_per_year,type="h",lwd=5,col="red")
#ggplot(data=,aes(x=years_ringed, y=ringed_birds_per_year)) + geom_bar(stat="identity")
dringed$Year=format(as.Date(dringed$Ringed_date, format="%d/%m/%Y"),"%Y")
dringed$Year
dringed$Year=format(as.Date(dringed$Ringed_date, format="%d/%m/%Y"),"%Y")
years_ringed=sort(unique(as.numeric(na.omit(dringed$Year))))
ringed_birds_per_year=years_ringed # initializing
for (k in 1:length(years_ringed)){
ringed_birds_per_year[k]=length(unique(dringed$Ring_No[dringed$Year==years_ringed[k]]))
}
plot(years_ringed,ringed_birds_per_year,type="h",lwd=5,col="red")
#ggplot(data=,aes(x=years_ringed, y=ringed_birds_per_year)) + geom_bar(stat="identity")
head(drecov)
drecov$Year=format(as.Date(drecov$Date_recovered, format="%d/%m/%Y"),"%Y")
years_of_recovery=sort(unique(as.numeric(na.omit(drecov$Year))))
birds_recovered_per_year=years_of_recovery# initializing
for (k in 1:length(years_of_recovery)){
birds_recovered_per_year[k]=length(unique(drecov$Ring_No[drecov$Year==years_of_recovery[k]]))
}
plot(years_of_recovery,birds_recovered_per_year,type="h",lwd=5,col="blue")
bird_recovered_list=unique(drecov$Ring_No)
ntimes_recovered=rep(0,length(bird_recovered_list))
for (k in 1:length(bird_recovered_list)){
ntimes_recovered[k]=sum(drecov$Ring_No==bird_recovered_list[k])
}
plot(bird_recovered_list,ntimes_recovered,type="o",lwd=1,col="black",xlab="Bird ID",ylab= "Ntimes recovered")
table(ntimes_recovered)
table(drecov$RecoveryCode)
head(drecov)
drecov$Year=format(as.Date(drecov$Date_recovered, format="%d/%m/%Y"),"%Y")
drecov$Year
years_of_recovery=sort(unique(as.numeric(na.omit(drecov$Year))))
years_of_recovery
head(drecov)
as.Date(drecov$Date_recovered, format="%d/%m/%Y"),"%Y")
as.Date(drecov$Date_recovered, format="%d/%m/%Y")
drecov$Date_recovered
head(drecov)
table(drecov$Circumstances_Euring_code)
head(drecov)
ntimes_recovered=rep(0,length(bird_recovered_list))
drecov$Date_recovered[drecov$Condition_Euring_code %in %c(4,7,8))]
drecov$Date_recovered[drecov$Condition_Euring_code %in %c(4,7,8)]
drecov$Date_recovered[drecov$Condition_Euring_code %in% c(4,7,8)]
drecov$Date_recovered[drecov$Condition_Euring_code %in% c(7,8)]
drecov$Year
drecov$Date_recovered[drecov$Condition_Euring_code %in% c(7,8)]
drecov$Date_recovered[drecov$Condition_Euring_code %in% c(7,8)]
drecov$Date_recovered[drecov$Condition_Euring_code %in% c(7,8)]
drecov$Date_recovered[drecov$Condition_Euring_code %in% c(4,7,8)]
